<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Array-Table | Hello!</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="everything about me">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.e4fd8c6d.js" as="script"><link rel="preload" href="/assets/js/2.d8f788be.js" as="script"><link rel="preload" href="/assets/js/1.4eca97dd.js" as="script"><link rel="preload" href="/assets/js/26.ac2aa3e3.js" as="script"><link rel="prefetch" href="/assets/js/10.0cd7dbe0.js"><link rel="prefetch" href="/assets/js/11.e05e49a5.js"><link rel="prefetch" href="/assets/js/12.e7e20dcc.js"><link rel="prefetch" href="/assets/js/13.cedf35ff.js"><link rel="prefetch" href="/assets/js/14.3854cc93.js"><link rel="prefetch" href="/assets/js/15.0d6ec86c.js"><link rel="prefetch" href="/assets/js/16.b5fe0e8f.js"><link rel="prefetch" href="/assets/js/17.b38c4fc5.js"><link rel="prefetch" href="/assets/js/18.e4c546ac.js"><link rel="prefetch" href="/assets/js/19.7dcbb821.js"><link rel="prefetch" href="/assets/js/20.d1092317.js"><link rel="prefetch" href="/assets/js/21.ce06095b.js"><link rel="prefetch" href="/assets/js/22.7a364f9d.js"><link rel="prefetch" href="/assets/js/23.bddfae5e.js"><link rel="prefetch" href="/assets/js/24.9920f704.js"><link rel="prefetch" href="/assets/js/25.17c83a3f.js"><link rel="prefetch" href="/assets/js/27.735403ae.js"><link rel="prefetch" href="/assets/js/28.65fc86fa.js"><link rel="prefetch" href="/assets/js/29.1291eacf.js"><link rel="prefetch" href="/assets/js/3.6972e55e.js"><link rel="prefetch" href="/assets/js/30.2d9d1ab5.js"><link rel="prefetch" href="/assets/js/31.f99f66c6.js"><link rel="prefetch" href="/assets/js/32.c8408806.js"><link rel="prefetch" href="/assets/js/33.7ca18548.js"><link rel="prefetch" href="/assets/js/34.100584da.js"><link rel="prefetch" href="/assets/js/35.2253481a.js"><link rel="prefetch" href="/assets/js/36.d54fc876.js"><link rel="prefetch" href="/assets/js/37.c2c43023.js"><link rel="prefetch" href="/assets/js/38.272210db.js"><link rel="prefetch" href="/assets/js/39.7c0539ec.js"><link rel="prefetch" href="/assets/js/4.57ccd1b1.js"><link rel="prefetch" href="/assets/js/40.7c266664.js"><link rel="prefetch" href="/assets/js/41.a819f718.js"><link rel="prefetch" href="/assets/js/42.f60cc13f.js"><link rel="prefetch" href="/assets/js/43.cebfbf33.js"><link rel="prefetch" href="/assets/js/5.c061cb07.js"><link rel="prefetch" href="/assets/js/6.843d23da.js"><link rel="prefetch" href="/assets/js/7.7a29f7fb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9268c32e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello!</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/resume/aboutme.html" class="nav-link">
  AboutMe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Asacea" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:imzhangqianyu@outlook.com" class="nav-link external">
  Email
  <!----></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/resume/aboutme.html" class="nav-link">
  AboutMe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Asacea" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:imzhangqianyu@outlook.com" class="nav-link external">
  Email
  <!----></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><a href="/tech/tech" class="sidebar-heading clickable open"><span>Technique</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/structure/Array-Table" class="sidebar-heading clickable open active"><span>Data Structure</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/structure/Array-Table.html" aria-current="page" class="active sidebar-link">Array-Table</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/structure/Array-Table.html#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/tech/structure/Array-Table.html#特殊矩阵的压缩存储-重点" class="sidebar-link">特殊矩阵的压缩存储（重点）</a></li><li class="sidebar-sub-header"><a href="/tech/structure/Array-Table.html#规律分布的特殊矩阵" class="sidebar-link">规律分布的特殊矩阵</a></li></ul></li><li><a href="/tech/structure/String.html" class="sidebar-link">String</a></li><li><a href="/tech/structure/LinearList.html" class="sidebar-link">LinearList</a></li><li><a href="/tech/structure/Stack-Queue.html" class="sidebar-link">Stack-Queue</a></li><li><a href="/tech/structure/Binary-Tree.html" class="sidebar-link">Binary-Tree</a></li><li><a href="/tech/structure/Graph.html" class="sidebar-link">Graph</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/alg/Basic-Algorithms" class="sidebar-heading clickable"><span>Algorithm</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/alg/Basic-Algorithms.html" class="sidebar-link">Basic-Algorithms</a></li><li><a href="/tech/alg/Sort.html" class="sidebar-link">Sort</a></li><li><a href="/tech/alg/Search.html" class="sidebar-link">Search</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/JS/start" class="sidebar-heading clickable"><span>Javascript: ES6-ES13</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/JS/referenceType.html" class="sidebar-link">reference types</a></li><li><a href="/tech/JS/Object-class.html" class="sidebar-link">Object and Class</a></li><li><a href="/tech/JS/Function.html" class="sidebar-link">Function</a></li><li><a href="/tech/JS/Promise-async.html" class="sidebar-link">Promise and Async</a></li><li><a href="/tech/JS/Proxy-Reflect.html" class="sidebar-link">Proxy and Reflect</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/travel/note" class="sidebar-heading clickable"><span>Travel Journal</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resume/aboutme.html" class="sidebar-link">Everything about me</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数组与广义表"><a href="#数组与广义表" class="header-anchor">#</a> 数组与广义表</h1> <h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <ol><li>可以把二位数组看作一个线性表，就相当于矩阵</li> <li>这里的数组下标统一从1开始：</li></ol> <h2 id="特殊矩阵的压缩存储-重点"><a href="#特殊矩阵的压缩存储-重点" class="header-anchor">#</a> 特殊矩阵的压缩存储（重点）</h2> <ol><li>地址计算P129
<ul><li>一维数组的地址计算：<code>Loc(A[i])=Loc(A[1])+(i-1)*size</code></li> <li>二维数组的地址计算：<code>Loc(A[i][j])=Loc(A[1][1])+((i-1)*n+(j-1))*size</code></li> <li>三维数组的地址计算：<code>Loc(A[i][j][k])=Loc(A[1][1][1])+((i-1)*n*m+(j-1)*n+(k-1))*size</code></li> <li>以此类推</li></ul></li></ol> <h2 id="规律分布的特殊矩阵"><a href="#规律分布的特殊矩阵" class="header-anchor">#</a> 规律分布的特殊矩阵</h2> <ol><li><p>三角矩阵：</p> <ul><li><p><img src="/assets/img/14.0bdddb55.png" alt="An image"></p></li> <li><p>上三角矩阵：i&lt;j时，Aij=0</p> <p>存储地址：<code>Loc[i,j]=Loc[1,1]+(i*(i-1)/2+j-1)</code></p></li> <li><p>下三角矩阵：i&gt;j时，Aij=0</p></li></ul></li> <li><p>带状矩阵：</p> <ul><li>三对角带状矩阵<img src="/assets/img/15.692dc2bd.png" alt="An image"></li> <li>存储地址：<code>Loc(A[i][j])=Loc(A[1][1])+(3*(i-1)-1+(j-i+1))*size</code></li></ul></li> <li><p>稀疏矩阵：指矩阵中绝大多数元素为0的矩阵</p> <ul><li><p>稀疏矩阵的三元组表示法：</p> <ol><li><p>基本类型结构：行、列、值。相当于只存储了非零元素的位置和值</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">1000</span></span></span>
<span class="token keyword">typedef</span>  <span class="token keyword">struct</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> row<span class="token punctuation">,</span>col<span class="token punctuation">;</span><span class="token comment">//该非零元素的行列下标</span>
    ElementType e<span class="token punctuation">;</span><span class="token comment">//该非零元素的值</span>
<span class="token punctuation">}</span>Triple<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    Triple data<span class="token punctuation">[</span>MAXSIZE<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//非零元素的三元组表，data[0]未用</span>
    <span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>len<span class="token punctuation">;</span>   <span class="token comment">//m是行数，n是列数，len是元素总个数</span>
<span class="token punctuation">}</span>TSMatrix<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>矩阵的经典转置运算</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">TransMatrix</span><span class="token punctuation">(</span>ElementType source<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span>ElementType dest<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
            dest<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>用三元组表实现稀疏矩阵的转置</p> <p>先将原三元组表的行列互换，然后将互换后的三元组表，按照行下标的大小以递增顺序排列</p> <ul><li><p>方法一：列序递增转置方法（双重循环）:</p> <p>·按照被转置矩阵三元组表A的列序（即转置后三元组表 B的行序）递增的顺序进行转置，并依次送入转置后矩阵的三元组表B中</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">TransTSMatrix</span><span class="token punctuation">(</span>TSMatrix A<span class="token punctuation">,</span>TSMatrix <span class="token operator">*</span>B<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>m<span class="token operator">=</span>A<span class="token punctuation">.</span>n<span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>n<span class="token operator">=</span>A<span class="token punctuation">.</span>m<span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>len<span class="token operator">=</span>A<span class="token punctuation">.</span>len<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>B<span class="token operator">-&gt;</span>len<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//辅助计数器，记录转置后的元素在三元组表B中的下标值</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>n<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token operator">=</span>k<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>row<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token punctuation">;</span>
                    B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>row<span class="token punctuation">;</span>
                    B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">;</span>
                    j<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>       
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>方法二：一次定位快速转置法：</p> <ol><li>设置两个数组
<ul><li><code>num[col]</code>:存放三元组表A中的第col列非零元素的个数</li> <li><code>position[col]</code>:存放转置前三元组表A中第col列中第一个非零元素在三元组表B中的存储位置</li></ul></li></ol> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">FastTransTSMatrix</span><span class="token punctuation">(</span>TSMatrix A<span class="token punctuation">,</span>TSMatrix <span class="token operator">*</span>B<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> col<span class="token punctuation">,</span>t<span class="token punctuation">,</span>p<span class="token punctuation">,</span>q<span class="token punctuation">;</span>
    <span class="token keyword">int</span> num<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span>position<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>len<span class="token operator">=</span>A<span class="token punctuation">.</span>len<span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>n<span class="token operator">=</span>A<span class="token punctuation">.</span>m<span class="token punctuation">;</span>
    B<span class="token operator">-&gt;</span>m<span class="token operator">=</span>A<span class="token punctuation">.</span>n<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>B<span class="token operator">-&gt;</span>len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>col<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>n<span class="token punctuation">;</span>col<span class="token operator">++</span><span class="token punctuation">)</span>
            num<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">//初始化为0</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>t<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>len<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span>
            num<span class="token punctuation">[</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">//统计每一列的非零元素的个数</span>
        position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//第一列的非零元素的存储位置是1</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>col<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>n<span class="token punctuation">)</span>
            position<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">=</span>position<span class="token punctuation">[</span>col<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>num<span class="token punctuation">[</span>col<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//第col列中第一个非零元素在B.data[]中的正确位置</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>p<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>p<span class="token operator">&lt;=</span>A<span class="token punctuation">.</span>len<span class="token punctuation">;</span>p<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            col<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token punctuation">;</span>
            q<span class="token operator">=</span>position<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//找到第col列第一个非零元素的正确位置</span>
            B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">.</span>row<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token punctuation">;</span>
            B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">.</span>col<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>row<span class="token punctuation">;</span>
            B<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token operator">=</span>A<span class="token punctuation">.</span>data<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">;</span>
            position<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token comment">//指向第col列下一个非零元素的正确位置</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol></li> <li><p>稀疏矩阵的链式存储结构：十字链表</p> <ol><li><p>结构：每一个非零元素用一个结点表示，该节点除了(row,col,value)以外，还有两个链域</p></li> <li><p>类型定义：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">OLNode</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> row<span class="token punctuation">,</span>col<span class="token punctuation">;</span>
    ElementType value<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">OLNode</span> <span class="token operator">*</span>right<span class="token punctuation">;</span>   <span class="token comment">//用于连接同一行中的下一个非零元素</span>
    <span class="token keyword">struct</span> <span class="token class-name">OLNode</span> <span class="token operator">*</span>down<span class="token punctuation">;</span>    <span class="token comment">//用于连接同一列中的下一个非零元素</span>
<span class="token punctuation">}</span>OLNode<span class="token punctuation">,</span><span class="token operator">*</span>OLink<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    OLink <span class="token operator">*</span>row_head<span class="token punctuation">,</span><span class="token operator">*</span>col_head<span class="token punctuation">;</span> <span class="token comment">//行、列链表的头指针向量</span>
    <span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>len<span class="token punctuation">;</span>         <span class="token comment">//稀疏矩阵的行数、列数、非零元素的个数</span>
<span class="token punctuation">}</span>CrossList<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/16.be609d1e.jpg" alt="An image"></p></li> <li><p>十字链表的算法实现：</p> <ul><li><p>建立十字链表的步骤：</p> <ol><li>读入稀疏矩阵的行数列数和非零元素个数</li> <li>动态申请行、列链表的头指针向量</li> <li>逐个读入非零元素，分别插入行、列链表</li></ol></li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">CreateList</span><span class="token punctuation">(</span>CrossList <span class="token operator">*</span>M<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>len<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
    ElementType e<span class="token punctuation">;</span>
    OLink p<span class="token punctuation">,</span>q<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;请输入行数，列数，非零元素个数：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d,%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    M<span class="token operator">-&gt;</span>m<span class="token operator">=</span>m<span class="token punctuation">;</span>
    M<span class="token operator">-&gt;</span>n<span class="token operator">=</span>n<span class="token punctuation">;</span>
    M<span class="token operator">-&gt;</span>len<span class="token operator">=</span>len<span class="token punctuation">;</span>
    
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>M<span class="token operator">-&gt;</span>row_head<span class="token operator">=</span><span class="token punctuation">(</span>OLink<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>OLink<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">exit</span><span class="token punctuation">(</span>OVERFLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>M<span class="token operator">-&gt;</span>col_head<span class="token operator">=</span><span class="token punctuation">(</span>OLink<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>OLink<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">exit</span><span class="token punctuation">(</span>OVERFLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//初始化行、列的头指针向量，使各行、列链表为空</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        M<span class="token operator">-&gt;</span>row_head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        M<span class="token operator">-&gt;</span>col_head<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token comment">//循环读入行、列、值</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span><span class="token operator">&amp;</span>j<span class="token punctuation">,</span><span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span><span class="token operator">&amp;</span>j<span class="token punctuation">,</span><span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//创建结点</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token operator">=</span><span class="token punctuation">(</span>OLNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>OLNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token function">exit</span><span class="token punctuation">(</span>OVERFLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>row<span class="token operator">=</span>i<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>col<span class="token operator">=</span>j<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>value<span class="token operator">=</span>e<span class="token punctuation">;</span>
        <span class="token comment">//先考虑行</span>
        <span class="token comment">//如果所在行为空</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>M<span class="token operator">-&gt;</span>row_head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
            M<span class="token operator">-&gt;</span>row_head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            q<span class="token operator">=</span>M<span class="token operator">-&gt;</span>row_head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//寻找插入的位置</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>col<span class="token operator">&lt;</span>j<span class="token punctuation">)</span>
                q<span class="token operator">=</span>q<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            <span class="token comment">//q-&gt;right是目标位置</span>
            p<span class="token operator">-&gt;</span>right<span class="token operator">=</span>q<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            q<span class="token operator">-&gt;</span>right<span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//同理，考虑列</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>M<span class="token operator">-&gt;</span>col_head<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
            M<span class="token operator">-&gt;</span>col_head<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            q<span class="token operator">=</span>M<span class="token operator">-&gt;</span>col_head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//寻找插入的位置</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>down<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q<span class="token operator">-&gt;</span>down<span class="token operator">-&gt;</span>row<span class="token operator">&lt;</span>j<span class="token punctuation">)</span>
                q<span class="token operator">=</span>q<span class="token operator">-&gt;</span>down<span class="token punctuation">;</span>
            <span class="token comment">//q-&gt;down是目标位置</span>
            p<span class="token operator">-&gt;</span>down<span class="token operator">=</span>q<span class="token operator">-&gt;</span>down<span class="token punctuation">;</span>
            q<span class="token operator">-&gt;</span>down<span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre></div></li></ol></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        Home
      </a></span> <span class="next"><a href="/tech/structure/String.html">
        String
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e4fd8c6d.js" defer></script><script src="/assets/js/2.d8f788be.js" defer></script><script src="/assets/js/1.4eca97dd.js" defer></script><script src="/assets/js/26.ac2aa3e3.js" defer></script>
  </body>
</html>

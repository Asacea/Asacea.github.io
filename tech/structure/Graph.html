<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Graph | Hello!</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="everything about me">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.e4fd8c6d.js" as="script"><link rel="preload" href="/assets/js/2.d8f788be.js" as="script"><link rel="preload" href="/assets/js/1.4eca97dd.js" as="script"><link rel="preload" href="/assets/js/24.9920f704.js" as="script"><link rel="prefetch" href="/assets/js/10.0cd7dbe0.js"><link rel="prefetch" href="/assets/js/11.e05e49a5.js"><link rel="prefetch" href="/assets/js/12.e7e20dcc.js"><link rel="prefetch" href="/assets/js/13.cedf35ff.js"><link rel="prefetch" href="/assets/js/14.3854cc93.js"><link rel="prefetch" href="/assets/js/15.0d6ec86c.js"><link rel="prefetch" href="/assets/js/16.b5fe0e8f.js"><link rel="prefetch" href="/assets/js/17.b38c4fc5.js"><link rel="prefetch" href="/assets/js/18.e4c546ac.js"><link rel="prefetch" href="/assets/js/19.7dcbb821.js"><link rel="prefetch" href="/assets/js/20.d1092317.js"><link rel="prefetch" href="/assets/js/21.ce06095b.js"><link rel="prefetch" href="/assets/js/22.7a364f9d.js"><link rel="prefetch" href="/assets/js/23.bddfae5e.js"><link rel="prefetch" href="/assets/js/25.17c83a3f.js"><link rel="prefetch" href="/assets/js/26.ac2aa3e3.js"><link rel="prefetch" href="/assets/js/27.735403ae.js"><link rel="prefetch" href="/assets/js/28.65fc86fa.js"><link rel="prefetch" href="/assets/js/29.1291eacf.js"><link rel="prefetch" href="/assets/js/3.6972e55e.js"><link rel="prefetch" href="/assets/js/30.2d9d1ab5.js"><link rel="prefetch" href="/assets/js/31.f99f66c6.js"><link rel="prefetch" href="/assets/js/32.c8408806.js"><link rel="prefetch" href="/assets/js/33.7ca18548.js"><link rel="prefetch" href="/assets/js/34.100584da.js"><link rel="prefetch" href="/assets/js/35.2253481a.js"><link rel="prefetch" href="/assets/js/36.d54fc876.js"><link rel="prefetch" href="/assets/js/37.c2c43023.js"><link rel="prefetch" href="/assets/js/38.272210db.js"><link rel="prefetch" href="/assets/js/39.7c0539ec.js"><link rel="prefetch" href="/assets/js/4.57ccd1b1.js"><link rel="prefetch" href="/assets/js/40.7c266664.js"><link rel="prefetch" href="/assets/js/41.a819f718.js"><link rel="prefetch" href="/assets/js/42.f60cc13f.js"><link rel="prefetch" href="/assets/js/43.cebfbf33.js"><link rel="prefetch" href="/assets/js/5.c061cb07.js"><link rel="prefetch" href="/assets/js/6.843d23da.js"><link rel="prefetch" href="/assets/js/7.7a29f7fb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9268c32e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello!</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/resume/aboutme.html" class="nav-link">
  AboutMe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Asacea" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:imzhangqianyu@outlook.com" class="nav-link external">
  Email
  <!----></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/resume/aboutme.html" class="nav-link">
  AboutMe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Asacea" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:imzhangqianyu@outlook.com" class="nav-link external">
  Email
  <!----></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><a href="/tech/tech" class="sidebar-heading clickable open"><span>Technique</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/structure/Array-Table" class="sidebar-heading clickable open"><span>Data Structure</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/structure/Array-Table.html" class="sidebar-link">Array-Table</a></li><li><a href="/tech/structure/String.html" class="sidebar-link">String</a></li><li><a href="/tech/structure/LinearList.html" class="sidebar-link">LinearList</a></li><li><a href="/tech/structure/Stack-Queue.html" class="sidebar-link">Stack-Queue</a></li><li><a href="/tech/structure/Binary-Tree.html" class="sidebar-link">Binary-Tree</a></li><li><a href="/tech/structure/Graph.html" aria-current="page" class="active sidebar-link">Graph</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/structure/Graph.html#图的定义" class="sidebar-link">图的定义</a></li><li class="sidebar-sub-header"><a href="/tech/structure/Graph.html#图的存储结构" class="sidebar-link">图的存储结构</a></li><li class="sidebar-sub-header"><a href="/tech/structure/Graph.html#图的遍历" class="sidebar-link">图的遍历</a></li><li class="sidebar-sub-header"><a href="/tech/structure/Graph.html#图的应用" class="sidebar-link">图的应用</a></li></ul></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/alg/Basic-Algorithms" class="sidebar-heading clickable"><span>Algorithm</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/alg/Basic-Algorithms.html" class="sidebar-link">Basic-Algorithms</a></li><li><a href="/tech/alg/Sort.html" class="sidebar-link">Sort</a></li><li><a href="/tech/alg/Search.html" class="sidebar-link">Search</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/tech/JS/start" class="sidebar-heading clickable"><span>Javascript: ES6-ES13</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/JS/referenceType.html" class="sidebar-link">reference types</a></li><li><a href="/tech/JS/Object-class.html" class="sidebar-link">Object and Class</a></li><li><a href="/tech/JS/Function.html" class="sidebar-link">Function</a></li><li><a href="/tech/JS/Promise-async.html" class="sidebar-link">Promise and Async</a></li><li><a href="/tech/JS/Proxy-Reflect.html" class="sidebar-link">Proxy and Reflect</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/travel/note" class="sidebar-heading clickable"><span>Travel Journal</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resume/aboutme.html" class="sidebar-link">Everything about me</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="图"><a href="#图" class="header-anchor">#</a> 图</h1> <h2 id="图的定义"><a href="#图的定义" class="header-anchor">#</a> 图的定义</h2> <ol><li>图之间的关系是任意的，多对多的网状数据结构，离散数学的序偶</li> <li>基本术语
<ul><li>有向图，无向图，弧</li> <li>完全图</li> <li>子图</li> <li>邻接点</li> <li>度</li> <li>权和网：带权的图称为网</li> <li>路径长度：路径上经过的弧或边的数目；回路或环：第一个顶点和最后一个顶点相同；简单路径：路径中的顶点各不相同</li> <li>连通图（无向图）：图中任意两个顶点之间都有路径可以连接；强连通图（有向图）</li></ul></li></ol> <h2 id="图的存储结构"><a href="#图的存储结构" class="header-anchor">#</a> 图的存储结构</h2> <h3 id="邻接矩阵"><a href="#邻接矩阵" class="header-anchor">#</a> 邻接矩阵</h3> <ol><li><p>邻接矩阵表示法</p> <p>思想：n个顶点，构建n*n的矩阵。有权图，相连则赋权，反之则为正无穷；无权图：相连则为1，反之则为0</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_VERTEX_NUM</span> <span class="token expression"><span class="token number">20</span>   </span><span class="token comment">//最多顶点个数</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INFINITY</span>  <span class="token expression"><span class="token number">32768</span>    </span><span class="token comment">//表示极大值，无穷</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>DG<span class="token punctuation">,</span>DN<span class="token punctuation">,</span>UDG<span class="token punctuation">,</span>UDN<span class="token punctuation">}</span> GraphKind<span class="token punctuation">;</span>  <span class="token comment">//图的种类，分别为有向图DG，有向网DN，无向图UDG，无向网UDN</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> VertexData<span class="token punctuation">;</span>  <span class="token comment">//假设顶点数据为字符型,相当于顶点的名字</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span><span class="token punctuation">{</span>
    AdjType adj<span class="token punctuation">;</span>  <span class="token comment">// 无权图：0或1表示是否有连线；有权图：权值或者INFINITY</span>
    OtherInfo info<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    VertexData vertex<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//顶点向量,也就是顶点的编号</span>
    ArcNode arcs<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//邻接矩阵</span>
    <span class="token keyword">int</span> vexnum<span class="token punctuation">,</span>arcnum<span class="token punctuation">;</span>  <span class="token comment">//图的顶点数和弧数</span>
    GraphKind kind<span class="token punctuation">;</span>   <span class="token comment">//图的种类标志</span>
<span class="token punctuation">}</span>AdjMatrix<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>存储空间：可以使用特殊矩阵的压缩存储法，无向图值存储下三角，有向图存储全部</p></li> <li><p>运算</p> <ul><li><p>邻接矩阵表示法创建有向网</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//求顶点位置的函数</span>
<span class="token keyword">int</span> <span class="token function">LocateVertex</span><span class="token punctuation">(</span>AdjMaxtrix <span class="token operator">*</span>G<span class="token punctuation">,</span>VertexData v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>k<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
            j<span class="token operator">=</span>k<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> j<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">CreateDN</span><span class="token punctuation">(</span>AdjMatrix <span class="token operator">*</span>G<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">,</span>weight<span class="token punctuation">;</span>
    VertexData v1<span class="token punctuation">,</span>v2<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;plz enter :vexnum,arcnum&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//确定有权网的顶点数混合弧数</span>
    <span class="token comment">//初始化矩阵</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token operator">=</span>INFINNTY<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//初始化顶点</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vextex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入顶点编号，输入顺序决定了顶点在图中的位置</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;plz enter:顶点，顶点，权值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c,%c,%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v1<span class="token punctuation">,</span><span class="token operator">&amp;</span>v2<span class="token punctuation">,</span><span class="token operator">&amp;</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入一条弧的两个顶点和一个</span>
        i<span class="token operator">=</span><span class="token function">LocateVertex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token operator">=</span><span class="token function">LocateVertex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    G<span class="token operator">-&gt;</span>kind<span class="token operator">=</span>DN<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol> <h3 id="邻接表"><a href="#邻接表" class="header-anchor">#</a> 邻接表</h3> <ol><li><p>在邻接表当中的每个结点建立一个带头结点的边表，边表中链式存储该结点连接的顶点（无顺序）；表头结点表：所有顶点的序号和头指针组成的单链表</p> <p><img src="/assets/img/34.2d9b3ce6.png" alt="An image"></p></li> <li><p>存储结构</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_VERTEX_NUM</span> <span class="token expression"><span class="token number">20</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">enum</span><span class="token punctuation">{</span>DG<span class="token punctuation">,</span>DN<span class="token punctuation">,</span>UDG<span class="token punctuation">,</span>UDN<span class="token punctuation">}</span> GraphKind<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span><span class="token punctuation">{</span> <span class="token comment">//建立边表结构</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span><span class="token comment">//顶点在vertex[MAX_VERTEX_NUM]的Index</span>
    sruct ArcNode <span class="token operator">*</span>nextarc<span class="token punctuation">;</span>
    OtherInfo info<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VertexNode</span><span class="token punctuation">{</span> <span class="token comment">//顶点结点</span>
    VertexData data<span class="token punctuation">;</span>  <span class="token comment">//顶点编号</span>
    ArcNode <span class="token operator">*</span>firstarc<span class="token punctuation">;</span><span class="token comment">//指向第一个边</span>
<span class="token punctuation">}</span>VertexNode<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    VertexNode vertex<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//顺序表存储顶点</span>
    <span class="token keyword">int</span> vexnum<span class="token punctuation">,</span>arcnum<span class="token punctuation">;</span>
    GraphKind kind<span class="token punctuation">;</span>
<span class="token punctuation">}</span>AdjList<span class="token punctuation">;</span>
</code></pre></div><p>注意：对于有向图，想要快捷地获得顶点的度，可以建立逆邻接表</p></li></ol> <h3 id="十字链表"><a href="#十字链表" class="header-anchor">#</a> 十字链表</h3> <ol><li><p>十字链表的优势是可以直接得出弧数</p></li> <li><p>存储结构<img src="/assets/img/35.2f26df7e.jpg" alt="An image"></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_VERTEX_NUM</span> <span class="token expression"><span class="token number">20</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">enum</span><span class="token punctuation">{</span>DG<span class="token punctuation">,</span>DN<span class="token punctuation">,</span>UDG<span class="token punctuation">,</span>UDN<span class="token punctuation">}</span> GrapKind<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span><span class="token punctuation">{</span> <span class="token comment">//弧结点</span>
    <span class="token keyword">int</span> tailvex<span class="token punctuation">,</span>headvex<span class="token punctuation">;</span> <span class="token comment">//弧头弧尾结点的Index</span>
    <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span> <span class="token operator">*</span>hlink<span class="token punctuation">,</span><span class="token operator">*</span>tlink<span class="token punctuation">;</span><span class="token comment">//hlink指向与该弧的弧头相同的下一条弧,同理tlink指向同弧尾</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VertexNode</span><span class="token punctuation">{</span> <span class="token comment">//顶点结点</span>
    VertexData data<span class="token punctuation">;</span>
    ArcNode <span class="token operator">*</span>firstin<span class="token punctuation">,</span><span class="token operator">*</span>firstout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>VertexNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    VertexNode vertex<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> vexnum<span class="token punctuation">,</span>arcnum<span class="token punctuation">;</span>
    GraphKind kind<span class="token punctuation">;</span>
<span class="token punctuation">}</span>OrthList<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>创建图的十字链表</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">CrtOrthList</span><span class="token punctuation">(</span>OrthList <span class="token operator">*</span>G<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
    <span class="token keyword">char</span> vt<span class="token punctuation">,</span>vh<span class="token punctuation">;</span>
    ArcNode <span class="token operator">*</span>p<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;plz enter:vexnum,arcnum&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;plz enter:VertexData&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;plz enter:vertexTail,vertexHead&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c,%c&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>vt<span class="token punctuation">,</span><span class="token operator">&amp;</span>vh<span class="token punctuation">)</span><span class="token punctuation">;</span>
        i<span class="token operator">=</span><span class="token function">LocateVertex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>vt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token operator">=</span><span class="token function">LocateVertex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>vh<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">=</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ArcNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>tailvex<span class="token operator">=</span>i<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>headver<span class="token operator">=</span>j<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>tlink<span class="token operator">=</span>G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout<span class="token operator">=</span>p<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>hlink<span class="token operator">=</span>G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin<span class="token operator">=</span>p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="多重链表-略"><a href="#多重链表-略" class="header-anchor">#</a> 多重链表 (略)</h3> <p>P222</p> <h2 id="图的遍历"><a href="#图的遍历" class="header-anchor">#</a> 图的遍历</h2> <p>根本思想：在每个顶点处设立一个访问标志，即为图设置一个访问标志数组：visited[n]，用于标志顶点是否被访问过</p> <h3 id="深度优先搜索"><a href="#深度优先搜索" class="header-anchor">#</a> 深度优先搜索</h3> <ol><li><p>1）从图中某个顶点v0出发，首先访问v0。</p> <p>2）依次以v0的未被访问的邻接点为出发点，深度优先搜索图，直至图中所有与v有路径相通的顶点都被访问。</p> <p>3）n若此时图中还有顶点未被访问，则另选图中一个未被访问的顶点作为起始点，重复上述深度优先搜索过程，直至图中所有顶点均被访问过为止。</p></li> <li><p>深度优先搜索</p> <ul><li></li></ul> <div class="language-c extra-class"><pre class="language-c"><code>  <span class="token comment">//先遍历图</span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">True</span> <span class="token expression"><span class="token number">1</span></span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">False</span> <span class="token expression"><span class="token number">0</span></span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Error</span> <span class="token expression"><span class="token operator">-</span><span class="token number">1</span></span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OK</span> <span class="token expression"><span class="token number">1</span></span></span>
  <span class="token keyword">int</span> visited<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">//对图进行深度优先搜索</span>
  <span class="token keyword">void</span> <span class="token function">TraverseGraph</span><span class="token punctuation">(</span>Graph g<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">int</span> vi<span class="token punctuation">;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span>vi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>vi<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span>vi<span class="token operator">++</span><span class="token punctuation">)</span>
          visited<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span>vi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>vi<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span>vi<span class="token operator">++</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">)</span>
              <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>vi<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//深度优先遍历v0所在的联通子图</span>
  <span class="token keyword">void</span> <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>Graph g<span class="token punctuation">,</span><span class="token keyword">int</span> v0<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">visit</span><span class="token punctuation">(</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
      visited<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span>
      w<span class="token operator">=</span><span class="token function">FirstAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获得当前顶点的第一个邻接点的序号</span>
      <span class="token keyword">while</span><span class="token punctuation">(</span>w<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//当邻接点存在</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//如果邻接点未被访问</span>
              <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
          w<span class="token operator">=</span><span class="token function">NextAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v0<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找到下一个邻接点</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//FirstAdjVertex，NextAdjVertex函数的具体实现由图的存储结构来决定</span>
</code></pre></div><ul><li><p>DFS</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//邻接矩阵表达</span>
<span class="token keyword">void</span> <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>AdjMatrix g<span class="token punctuation">,</span><span class="token keyword">int</span> v0<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">visit</span><span class="token punctuation">(</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>vj<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>vj<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span>vj<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>g<span class="token punctuation">.</span>arcs<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//若邻接点vj未被访问</span>
            <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>vj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//邻接表表示</span>
<span class="token keyword">void</span> <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>AdjList g<span class="token punctuation">,</span><span class="token keyword">int</span> v0<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">visit</span><span class="token punctuation">(</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span>
    ArcNode <span class="token operator">*</span>p<span class="token punctuation">;</span>
    p<span class="token operator">=</span>g<span class="token punctuation">.</span>vertex<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token function">DepthFirstSearch</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>用非递归过程实现深度优先搜索</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">DFS1</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span><span class="token keyword">int</span> v0<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> v<span class="token punctuation">,</span>w<span class="token punctuation">;</span>
    <span class="token function">InitStack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">visit</span><span class="token punctuation">(</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span>
    <span class="token function">Push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>S<span class="token punctuation">,</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">IsEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>S<span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">visit</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span>
            w<span class="token operator">=</span><span class="token function">FirstAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>w<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token function">Push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>S<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                w<span class="token operator">=</span><span class="token function">NextAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>广度优先搜索</p> <p>类似于树的层次遍历</p> <p><img src="/assets/img/36.a4abd4e7.png" alt="An image"></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">BreadthFirstSearch</span><span class="token punctuation">(</span>Graph g<span class="token punctuation">,</span><span class="token keyword">int</span> v0<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//广度优先搜索图g中v0所在的连通子图</span>
    <span class="token function">visit</span><span class="token punctuation">(</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span><span class="token comment">//将该结点标记</span>
    <span class="token function">InitQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化队列</span>
    <span class="token function">EnterQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span>v0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将v0进入队列</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">Empty</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">DeleteQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队头元素v出队</span>
        w<span class="token operator">=</span><span class="token function">FirstAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//v的第一个邻接点</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>w<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//全部遍历头元素邻接点</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//如果该邻接点未被访问过</span>
                <span class="token function">visit</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token operator">=</span>True<span class="token punctuation">;</span><span class="token comment">//访问并标记该邻接点</span>
                <span class="token function">EnterQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将该结点入队</span>
            <span class="token punctuation">}</span>
            w<span class="token operator">=</span><span class="token function">NextAdjVertex</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>v<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//求v相对于w的下一个邻接点</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="图的应用"><a href="#图的应用" class="header-anchor">#</a> 图的应用</h2> <h3 id="图的连通性问题"><a href="#图的连通性问题" class="header-anchor">#</a> 图的连通性问题</h3> <ol><li><p>深度优先找出从顶点u到v的简单路径</p> <p>基本思路：设置一个记录搜索线路的数组pre[n],<code>pre[j]=i</code>表示从vi到邻接点vj的边；</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token operator">*</span>pre<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">one_path</span><span class="token punctuation">(</span>Graph <span class="token operator">*</span>G<span class="token punctuation">,</span><span class="token keyword">int</span> u<span class="token punctuation">,</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    pre<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>vexnum<span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//初始化，全置于空</span>
    pre<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//将pre[u]置为-2，表示初始点u已经被访问了，并且u没有前驱</span>
    <span class="token function">DFS_path</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>u<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用深度优先搜索找一条从u到v的简单路径</span>
    <span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">DFS_path</span><span class="token punctuation">(</span>Graph <span class="token operator">*</span>G<span class="token punctuation">,</span><span class="token keyword">int</span> u<span class="token punctuation">,</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> j<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token function">firstadj</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">=</span><span class="token function">nextadj</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>u<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//遍历u的邻接点</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//如果该结点没有走过</span>
            pre<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>u<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">print_path</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">DFS_path</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>j<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//di'g</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>图的生成树和最小生成树</p> <ul><li><h4 id="prim"><a href="#prim" class="header-anchor">#</a> Prim</h4></li> <li><p>方法：1.prim算法——加点法；2.算法思想：将所有结点分为已走过U和未走过V-U两个部分，找到连接U和V-U的最小边，不形成回路;3.时间复杂度为O(n^2)</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span>
    <span class="token keyword">int</span> lowcost<span class="token punctuation">;</span>
<span class="token punctuation">}</span>closedge<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//该数组用于记录所有与v邻接的、从已走过的结点到v结点的所有边中的最小边的信息；将顶点标记已经走过：将closedge[v].lowcost=0</span>
<span class="token comment">//从 u顶点出发，按prim算法构造连通网gn的最小生成树，并输出生成树的每条边</span>
<span class="token function">MiniSpantTree_Prim</span><span class="token punctuation">(</span>AdjMartrix gn<span class="token punctuation">,</span><span class="token keyword">int</span> u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//u结点已经走过，现在将它标记：</span>
    closedge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span>lowacost<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>gn<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//对V-U中的顶点i，初始化closedge[i]，因为现在U中只有u一i个结点，所以带入u的出度</span>
            closedge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adjvex<span class="token operator">=</span>u<span class="token punctuation">;</span>
            closedge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lowcost<span class="token operator">=</span>gn<span class="token punctuation">.</span>arcs<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> e<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>e<span class="token operator">&lt;=</span>gn<span class="token punctuation">.</span>vexnum<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>e<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        v<span class="token operator">=</span><span class="token function">Minium</span><span class="token punctuation">(</span>closedge<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找到当前最小边（u，v），</span>
        u<span class="token operator">=</span>closedge<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adjvex<span class="token punctuation">;</span><span class="token comment">//u属于U</span>
        <span class="token function">print</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出函数，输出边</span>
        closedge<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>lowcost<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//将顶点v纳入U集合</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//在顶点 v并入U之后，更新closedge[i],此操作后续将影响u</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gn<span class="token punctuation">.</span>arcs<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token operator">&lt;</span>closedge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lowcost<span class="token punctuation">)</span><span class="token punctuation">{</span>
                closedge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lowcost<span class="token operator">=</span>gn<span class="token punctuation">.</span>arcs<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj；
                closedge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adjvex<span class="token operator">=</span>v<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><h4 id="kruskal"><a href="#kruskal" class="header-anchor">#</a> Kruskal</h4></li> <li><p>方法：1.加边法</p></li> <li></li></ul> <div class="language-c extra-class"><pre class="language-c"><code>  <span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
      <span class="token keyword">int</span> no<span class="token punctuation">;</span><span class="token comment">//顶点编号</span>
      InfoType info<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>VertexType<span class="token punctuation">;</span>
  <span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
     <span class="token keyword">int</span> edges<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//邻接矩阵</span>
      <span class="token keyword">int</span> n<span class="token punctuation">,</span>e<span class="token punctuation">;</span><span class="token comment">//顶点数，边数</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> u<span class="token punctuation">;</span><span class="token comment">//边的起始顶点</span>
      <span class="token keyword">int</span> v<span class="token punctuation">;</span><span class="token comment">//边的终止顶点</span>
      <span class="token keyword">int</span> w<span class="token punctuation">;</span><span class="token comment">//边的权值</span>
  <span class="token punctuation">}</span>Edge<span class="token punctuation">;</span>
  Edge E<span class="token punctuation">[</span>MAX_VERTEX_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//用于存放图中所有的边</span>
  <span class="token keyword">void</span>  <span class="token function">kruskal</span><span class="token punctuation">(</span>MatGraph g<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>u1<span class="token punctuation">,</span>u2<span class="token punctuation">,</span>sn1<span class="token punctuation">,</span>sn2<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li><h4 id="比较"><a href="#比较" class="header-anchor">#</a> 比较</h4></li> <li><p>prim适用于稠密图，kruskal适用于稀疏图</p></li></ul></li></ol> <h3 id="有向无环图的应用"><a href="#有向无环图的应用" class="header-anchor">#</a> 有向无环图的应用</h3> <ol><li><p>拓扑排序（Topological Sort）</p> <ul><li><p>拓扑序列：G的顶点序列{V1，V2，V3,...,Vn}中，任意两个顶点顶点Vi，Vj，在G中有一条从Vi到Vj的路径，则在序列中Vi必须排列在Vj之前</p></li> <li><p>拓扑排序：寻找拓扑序列的过程</p></li> <li><p>拓扑排序：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//方法：</span>
<span class="token comment">//1.在AOV网中选取一个没有前驱结点的顶点V开始遍历</span>
<span class="token comment">//2.将此结点和所有以它为起点的边删除</span>
<span class="token comment">//3.重复，知道G中不再有没有前驱结点的顶点</span>

<span class="token comment">//基于邻接表的存储结构，设置一个存放各个顶点的入度的数组indegree[]</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ANode</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span><span class="token comment">//该边终点的顶点编号</span>
    <span class="token keyword">struct</span> <span class="token class-name">ANode</span> <span class="token operator">*</span>nextarc<span class="token punctuation">;</span><span class="token comment">//指向下一条边的指针</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span><span class="token comment">//边结点</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    Vertex data<span class="token punctuation">;</span><span class="token comment">//表头结点类型</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span><span class="token comment">//顶点入度数量</span>
    ArcNode <span class="token operator">*</span>firstarc<span class="token punctuation">;</span><span class="token comment">//存放顶点的入度</span>
<span class="token punctuation">}</span>VNode<span class="token punctuation">;</span><span class="token comment">//顶点结点</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
    VNode adjlist<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//邻接表</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span>e<span class="token punctuation">;</span><span class="token comment">//结点数n和边数e</span>
<span class="token punctuation">}</span>AdjGraph<span class="token punctuation">;</span>  <span class="token comment">//图</span>
<span class="token keyword">int</span> <span class="token function">TopoSort</span><span class="token punctuation">(</span>AdjGraph <span class="token operator">*</span>G<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
    <span class="token keyword">int</span> Stack<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">,</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    ArcNode <span class="token operator">*</span>p<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//将所有结点的入度初始值设置为0</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        p<span class="token operator">=</span>G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>frstarc<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//将入度为0的顶点进栈</span>
            top<span class="token operator">++</span><span class="token punctuation">;</span>
            Stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token operator">=</span>i
        <span class="token punctuation">}</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>top<span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        i<span class="token operator">=</span>Stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>
        top<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">=</span>G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            j<span class="token operator">=</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">;</span>
            G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>adjlist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                top<span class="token operator">++</span><span class="token punctuation">;</span>
                Stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token operator">=</span>j<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>关键路径</p> <ul><li><p>AOE网：用顶点表示活动，弧表示活动间的优先关系的有向无环图</p></li> <li><p>源点：存在唯一的、入度为0的顶点；汇点：存在唯一的、出度为0的顶点</p></li> <li><p>关键路径：从源点到汇点 最长路径 的长度即为完成整个工程任务所需要的时间，该路径成为关键场长度</p></li> <li><p><img src="/assets/img/37.39b34ca7.jpg" alt="An image"></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//P245</span>
<span class="token keyword">int</span> <span class="token function">CriticalPath</span><span class="token punctuation">(</span>adjlist G<span class="token punctuation">)</span><span class="token punctuation">{</span>
    ArcNode <span class="token operator">*</span>p<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">,</span>dut<span class="token punctuation">,</span>ei<span class="token punctuation">.</span>li<span class="token punctuation">;</span>
    <span class="token keyword">char</span> tag
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>最短路径</p> <ul><li><p>求某一顶点到其他各个顶点的最短路径</p></li> <li><p><strong>迪杰斯特拉</strong>算法（加点法）：BV1zz4y1m7Nq</p></li> <li><p>该算法按照最短路径长度的递增顺序产生一点到其余各点的所有最短路径</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">Dijkstra</span><span class="token punctuation">(</span>MatGraph g<span class="token punctuation">,</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//记住v是起始顶点</span>
    <span class="token keyword">int</span> dist<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">,</span>path<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//dist[j]表示源点-&gt;j的最短路径；path[j]表示源点-&gt;j的最短路径中j的前一个顶点</span>
    <span class="token keyword">int</span> s<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//s用于标记结点是否标记走过</span>
    <span class="token keyword">int</span> mindis<span class="token punctuation">,</span>u<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span>edgds<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span>INFINITE<span class="token punctuation">)</span><span class="token comment">//当v到i有边时</span>
            path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token comment">//当不存在边时</span>
            path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//将v放入s中</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        mindis<span class="token operator">=</span>INF<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//找到下一个最小边的另一个端点</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>mindis<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//j结点没有走过并且源点到j的路径小于mindis</span>
                u<span class="token operator">=</span>j<span class="token punctuation">;</span><span class="token comment">//下一个走的结点是u</span>
                mindis<span class="token operator">=</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//更新最小路径mindis为dist[j]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        s<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//将端点u放进已走过的数组</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//调整，修改不在s中的顶点的位置</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>INF<span class="token operator">&amp;&amp;</span>dist<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">+</span>g<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>u<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Dispath</span><span class="token punctuation">(</span>dist<span class="token punctuation">,</span>path<span class="token punctuation">,</span>g<span class="token punctuation">.</span>n<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出最短路径</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>求任意一对顶点间的最短路径</p></li> <li><p><strong>弗洛伊德算法</strong></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//二维数组A[i][j]表示对当前顶点i-&gt;j的最短路径长度</span>
<span class="token keyword">void</span> <span class="token function">Floyd</span><span class="token punctuation">(</span>MatGraph g<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> A<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//A数组记录任意两点间的最短路径长度</span>
    <span class="token keyword">int</span> path<span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">[</span>MAXV<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//path数组记录Vi-&gt;Vj之间的当前最短路径，实际上只记录了通路上一个结点，不断回溯</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>j<span class="token operator">&amp;&amp;</span>g<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>INF<span class="token punctuation">)</span><span class="token comment">//如果ij邻接</span>
                path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>g<span class="token punctuation">.</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">+</span>A<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">+</span>A<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>path<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//修改最短路径为经过顶点k</span>
                <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tech/structure/Binary-Tree.html" class="prev">
        Binary-Tree
      </a></span> <span class="next"><a href="/tech/alg/Basic-Algorithms.html">
        Basic-Algorithms
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e4fd8c6d.js" defer></script><script src="/assets/js/2.d8f788be.js" defer></script><script src="/assets/js/1.4eca97dd.js" defer></script><script src="/assets/js/24.9920f704.js" defer></script>
  </body>
</html>
